write functions sperately - 
allow task reordering
enum for mode switching - done
seperate code structure.

